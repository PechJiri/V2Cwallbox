{
  "_comment": "This file is generated. Please edit .homeycompose/app.json instead.",
  "id": "com.v2c.wallbox",
  "version": "1.0.0",
  "compatibility": ">=12.0.0",
  "sdk": 3,
  "brandColor": "#00275b",
  "platforms": [
    "local"
  ],
  "name": {
    "en": "V2C Wallbox"
  },
  "description": {
    "en": "Read data from your V2C Wallbox via local network."
  },
  "category": [
    "energy"
  ],
  "tags": {
    "en": [
      "v2c",
      "wallbox",
      "charger",
      "electric vehicle",
      "ev",
      "energy"
    ]
  },
  "permissions": [],
  "images": {
    "small": "/assets/images/small.png",
    "large": "/assets/images/large.png",
    "xlarge": "/assets/images/xlarge.png"
  },
  "author": {
    "name": "Jiri Pech",
    "email": "jiri.pech@centrum.cz"
  },
  "contributing": {
    "donate": {
      "paypal": {
        "username": "pechjiri"
      }
    }
  },
  "source": "https://github.com/PechJiri/V2Cwallbox",
  "homepage": "https://v2charge.com/",
  "support": "mailto:jiri.pech@centrum.cz",
  "flow": {
    "triggers": [
      {
        "title": {
          "en": "Power becomes greater than"
        },
        "id": "power-becomes-greater-than"
      },
      {
        "title": {
          "en": "Power becomes less than"
        },
        "id": "power-becomes-less-than"
      }
    ],
    "conditions": [
      {
        "title": {
          "en": "power is greater than"
        },
        "id": "power-is-greater-than"
      },
      {
        "title": {
          "en": "power is less than"
        },
        "id": "power-is-less-than"
      }
    ]
  },
  "drivers": [
    {
      "id": "v2c-wallbox",
      "name": {
        "en": "V2C Wallbox"
      },
      "class": "evcharger",
      "capabilities": [
        "measure_charge_state",
        "measure_charge_power",
        "measure_voltage_installation",
        "measure_charge_energy",
        "measure_slave_error",
        "measure_charge_time",
        "measure_paused",
        "measure_locked",
        "measure_intensity",
        "measure_dynamic"
      ],
      "capabilitiesOptions": {
        "measure_charge_power": {
          "title": {
            "en": "Current charging power"
          },
          "units": {
            "en": "W"
          }
        },
        "measure_charge_state": {
          "title": {
            "en": "Charge State"
          }
        },
        "measure_voltage_installation": {
          "title": {
            "en": "Voltage Installation"
          },
          "units": {
            "en": "V"
          }
        },
        "measure_charge_energy": {
          "title": {
            "en": "Charged Energy"
          },
          "units": {
            "en": "kWh"
          }
        },
        "measure_slave_error": {
          "title": {
            "en": "Slave Error"
          }
        },
        "measure_charge_time": {
          "title": {
            "en": "Charge Time"
          },
          "units": {
            "en": "min"
          }
        },
        "measure_paused": {
          "title": {
            "en": "Paused"
          }
        },
        "measure_locked": {
          "title": {
            "en": "Locked"
          }
        },
        "measure_intensity": {
          "title": {
            "en": "Intensity"
          },
          "units": {
            "en": "A"
          }
        },
        "measure_dynamic": {
          "title": {
            "en": "Dynamic"
          }
        }
      },
      "images": {
        "small": "/assets/images/small.png",
        "large": "/assets/images/large.png",
        "xlarge": "/assets/images/xlarge.png"
      },
      "pair": [
        {
          "id": "pair",
          "navigation": {
            "next": "list_my_devices"
          }
        },
        {
          "id": "list_my_devices",
          "template": "list_devices",
          "navigation": {
            "next": "add_my_devices",
            "prev": "pair"
          },
          "options": {
            "singular": true
          }
        },
        {
          "id": "add_my_devices",
          "template": "add_devices"
        }
      ],
      "settings": [
        {
          "id": "v2c_ip",
          "type": "text",
          "label": {
            "en": "V2C Wallbox IP"
          }
        }
      ]
    }
  ],
  "capabilities": {
    "measure_dynamic": {
      "type": "boolean",
      "title": {
        "en": "Dynamic Mode"
      },
      "getable": true,
      "setable": false,
      "uiComponent": "sensor",
      "icon": "/assets/dynamic_mode.svg"
    },
    "measure_charge_energy": {
      "type": "number",
      "title": {
        "en": "Charged energy (kWh)"
      },
      "unit": "kWh",
      "getable": true,
      "setable": false,
      "uiComponent": "sensor",
      "decimals": 3,
      "icon": "/assets/charge_energy.svg"
    },
    "measure_charge_power": {
      "type": "number",
      "title": {
        "en": "Current charging power (W)"
      },
      "unit": "W",
      "getable": true,
      "setable": false,
      "uiComponent": "sensor",
      "decimals": 0,
      "icon": "/assets/charge_power.svg"
    },
    "measure_charge_state": {
      "type": "enum",
      "title": {
        "en": "Charger state"
      },
      "values": [
        {
          "id": "0",
          "title": {
            "en": "EV not connected"
          }
        },
        {
          "id": "1",
          "title": {
            "en": "EV connected"
          }
        },
        {
          "id": "2",
          "title": {
            "en": "Charging"
          }
        }
      ],
      "getable": true,
      "setable": false,
      "uiComponent": "sensor",
      "icon": "/assets/charge_state.svg"
    },
    "measure_charge_time": {
      "type": "number",
      "title": {
        "en": "Charging time (min)"
      },
      "unit": "min",
      "getable": true,
      "setable": false,
      "uiComponent": "sensor",
      "decimals": 2,
      "icon": "/assets/charge_time.svg"
    },
    "measure_intensity": {
      "type": "number",
      "title": {
        "en": "Intensity (A)"
      },
      "unit": "A",
      "getable": true,
      "setable": false,
      "uiComponent": "sensor",
      "decimals": 1,
      "icon": "/assets/intensity.svg"
    },
    "measure_locked": {
      "type": "boolean",
      "title": {
        "en": "Locked"
      },
      "getable": true,
      "setable": false,
      "uiComponent": "sensor",
      "icon": "/assets/locked.svg"
    },
    "measure_paused": {
      "type": "boolean",
      "title": {
        "en": "Paused"
      },
      "getable": true,
      "setable": false,
      "uiComponent": "sensor",
      "icon": "/assets/paused.svg"
    },
    "measure_slave_error": {
      "type": "enum",
      "title": {
        "en": "Slave Error"
      },
      "values": [
        {
          "id": "00",
          "title": {
            "en": "No Error"
          }
        },
        {
          "id": "01",
          "title": {
            "en": "Communication"
          }
        },
        {
          "id": "02",
          "title": {
            "en": "Reading"
          }
        },
        {
          "id": "03",
          "title": {
            "en": "Slave"
          }
        },
        {
          "id": "04",
          "title": {
            "en": "Waiting WiFi"
          }
        },
        {
          "id": "05",
          "title": {
            "en": "Waiting communication"
          }
        },
        {
          "id": "06",
          "title": {
            "en": "Wrong IP"
          }
        },
        {
          "id": "07",
          "title": {
            "en": "Slave not found"
          }
        },
        {
          "id": "08",
          "title": {
            "en": "Wrong Slave"
          }
        },
        {
          "id": "09",
          "title": {
            "en": "No response"
          }
        },
        {
          "id": "10",
          "title": {
            "en": "Clamp not connected"
          }
        }
      ],
      "getable": true,
      "setable": false,
      "uiComponent": "sensor",
      "icon": "/assets/slave_error.svg"
    },
    "measure_voltage_installation": {
      "type": "number",
      "title": {
        "en": "Installation voltage"
      },
      "unit": "V",
      "getable": true,
      "setable": false,
      "uiComponent": "sensor",
      "decimals": 0,
      "icon": "/assets/voltage_installation.svg"
    }
  }
}